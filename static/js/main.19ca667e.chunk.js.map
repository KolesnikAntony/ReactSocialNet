{"version":3,"sources":["common/Preloader/Preloader.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Dialogs/DialogsUsers/DialogsUsers.module.css","components/Dialogs/Messages/Messages.module.css","components/Users/Users.module.css","components/Sidebar/Sidebar.module.css","helpers/validate/validate.jsx","reportWebVitals.js","components/Sidebar/Sidebar.jsx","common/Paginator/Paginator.jsx","accets/img/user.jpg","components/Users/User.jsx","components/Users/Users.jsx","api/api.js","helpers/object-helpers.js","redux/usersPage-reducer.js","common/Preloader/Preloader.jsx","hoc/AuthRedirect.jsx","redux/selectors.js","components/Users/UsersContainer.jsx","common/FormControls/FormControls.js","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileData.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/PostForm/PostForm.jsx","redux/profilePage-reducer.js","components/Profile/Posts/Posts.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","redux/auth-reducer.js","components/Header/Header.jsx","components/Login/LoginForm/LoginForm.jsx","components/Login/login.jsx","redux/app-reducer.js","accets/img/404.png","components/ErrorComponents/Error404.jsx","components/Dialogs/DialogsUsers/DialogsUsers.jsx","components/Dialogs/Messages/Messages.jsx","components/Dialogs/MessagesForm/MessagesForm.jsx","redux/dialogsPage-reducer.js","components/Dialogs/Dialogs.jsx","redux/redux-store.js","App.js","index.js","components/Profile/Posts/Posts.module.css","components/Dialogs/Dialogs.module.css","components/Profile/Posts/Post/Post.module.css","components/Login/LoginForm/loginForm.module.css","components/Header/Header.module.css","App.module.css","common/FormControls/FormControls.module.css","components/ErrorComponents/Error404.module.css"],"names":["module","exports","maxLength","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Sidebar","className","style","sidebar","to","sidebarLink","activeClassName","active","Paginator","totalUsers","pageSize","portionSize","currentPage","showCurrentUsers","totalPage","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","portionFlow","portionCurrentNumber","currentPageOfPortion","onClick","prevPortion","disabled","pagination","filter","p","map","selectedPage","nextPortion","ButtonFollowToggle","followingInProgress","userId","action","value","btn","some","id","User","user","follow","unfollow","wrapper","src","photos","small","userImage","alt","image","followed","info","myself","name","status","location","Users","users","props","container","u","instance","axios","withCredentials","headers","baseURL","usersAPI","get","delete","post","profileAPI","put","photo","formData","FormData","append","profileData","authAPI","email","password","rememberMe","captcha","securityAPI","updateObjectArray","items","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS","TOGGLE_PRELOADER","FOLLOWING_IN_PROGRESS","initialState","isFetching","setCurrentPage","type","togglePreloader","setFollowingInProgress","toggleFollowFlow","apiMethod","actionCreator","dispatch","a","data","resultCode","usersPageReducer","state","Preloader","ldsEllipsis","mapStateToPropsAuth","isAuth","authTemplate","withAuthRedirect","Component","AuthRedirectComponent","this","React","connect","requestInitialized","app","initialized","requestUsers","usersPage","requestCurrentPage","requestTotalUsers","requestPageSize","requestIsFetching","requestFollowingInProgress","requestPortionSize","requestIsAuth","requestLogin","login","requestAuthId","requestUserProfile","profilePage","userProfile","requestStatus","requestPosts","posts","requestDialogsPage","dialogsPage","compose","getUsers","response","totalCount","useEffect","page","FormControls","input","meta","hasError","touched","error","formControls","children","Input","restProps","Textarea","reduxForm","form","handleSubmit","onSubmit","profileBtn","er","isError","dataList","mainData","Field","component","placeholder","Object","keys","contacts","k","ProfileData","toggleEditMode","isOwner","profile","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","entries","ProfileStatus","editStatus","setEditStatus","setStatus","statusPrompt","setStatusPrompt","deactivateStatusEditor","updateProfileStatus","statusHolder","onChange","e","target","autoFocus","onBlur","onKeyUp","keyCode","onKeyEnter","onDoubleClick","onMouseLeave","onMouseEnter","prompt","showPrompt","ProfileInfo","updateProfileData","updateProfilePhoto","editMode","setEditMode","isHovering","setIsHovering","handleHover","profileInfo","htmlFor","changePhoto","customFile","files","length","large","avatar","img","initialValues","Post","text","likeCount","content","like","PostFormComponent","inform","textarea","ADD_POST","SET_USER_PROFILE","SET_PROFILE_STATUS","SET_PHOTO","setProfileStatus","setPhoto","getUserProfile","profilePageReducer","newPost","postBody","reverse","PostsContainer","onAddPost","onAddPostSuccess","reset","postsArray","el","postsWrap","title","list","Profile","match","params","mapDispatchToProps","getProfileStatus","getState","messageError","messages","stopSubmit","_error","Promise","reject","withRouter","loggedId","refreshGetUserProfile","SET_AUTH_USER","SET_CAPTCHA","captchaUrl","setAuthUser","setCaptcha","getAuthUser","authReducer","toLogout","header","required","maxLength30","LoginFormComponent","formLogin","validate","toLogin","url","INITIALIZED","appReducer","Error404","errorImg","DialogsUsers","Messages","message","SEND_MESSAGE","dialogsPageReducer","newMessage","messageBody","onSendMessage","onSendMessageSuccess","usersArray","messagesArray","dialogs","sendMessage","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunkMiddleWare","AppContainer","initializing","path","render","exact","from","AppMain","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.19ca667e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsEllipsis\":\"Preloader_ldsEllipsis__2QwPl\",\"ldsEllipsis1\":\"Preloader_ldsEllipsis1__xUcoZ\",\"ldsEllipsis2\":\"Preloader_ldsEllipsis2__30bG2\",\"ldsEllipsis3\":\"Preloader_ldsEllipsis3__2itKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfo\":\"ProfileInfo_profileInfo__3x1Fs\",\"imagebox\":\"ProfileInfo_imagebox__3W8cJ\",\"avatar\":\"ProfileInfo_avatar__1PNG4\",\"contacts\":\"ProfileInfo_contacts__ByQxz\",\"dataList\":\"ProfileInfo_dataList__3mTsP\",\"mainData\":\"ProfileInfo_mainData__2Rsy0\",\"changePhoto\":\"ProfileInfo_changePhoto__3X7Gy\",\"customFile\":\"ProfileInfo_customFile__346M_\",\"statusHolder\":\"ProfileInfo_statusHolder__w129x\",\"status\":\"ProfileInfo_status__yjakg\",\"prompt\":\"ProfileInfo_prompt__1avRS\",\"showPrompt\":\"ProfileInfo_showPrompt__1RJl5\",\"profileBtn\":\"ProfileInfo_profileBtn__3oLBy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"DialogsUsers_user__3zBDE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Messages_message__1QnPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Users_container__1CieC\",\"wrapper\":\"Users_wrapper__261g1\",\"user\":\"Users_user__13KPU\",\"image\":\"Users_image__3Kc_e\",\"btn\":\"Users_btn__1zRG2\",\"info\":\"Users_info__e03Wx\",\"myself\":\"Users_myself__B08MU\",\"location\":\"Users_location__mSaXR\",\"name\":\"Users_name__2TLsY\",\"pagination\":\"Users_pagination__5bn5g\",\"selectedPage\":\"Users_selectedPage__1IBI_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__1V6Vy\",\"sidebarLink\":\"Sidebar_sidebarLink__1GQwH\",\"active\":\"Sidebar_active__OTHq2\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Required field\"\r\n};\r\n\r\nexport const maxLength = maxLength => value => {\r\n    if (value.length < maxLength ) return undefined;\r\n    return `Max length is ${maxLength}`\r\n};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport style from './Sidebar.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Sidebar = () => {\r\n    return (\r\n        <nav className={style.sidebar}>\r\n                <NavLink to=\"/profile/\" className={style.sidebarLink} activeClassName={style.active}>Profile</NavLink>\r\n                <NavLink to=\"/dialogs\" className={style.sidebarLink} activeClassName={style.active}>Dialogs</NavLink>\r\n                <NavLink to=\"/users\" className={style.sidebarLink} activeClassName={style.active}>Users</NavLink>\r\n                <NavLink to=\"/contacts\" className={style.sidebarLink} activeClassName={style.active}>Contacts</NavLink>\r\n                <NavLink to=\"/settings\" className={style.sidebarLink} activeClassName={style.active}>Settings</NavLink>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Sidebar;","import React, {useState} from 'react'\r\nimport style from \"../../components/Users/Users.module.css\";\r\n\r\n\r\nconst Paginator = ({totalUsers, pageSize, portionSize, currentPage,showCurrentUsers}) => {\r\n    let totalPage = Math.ceil(totalUsers / pageSize);\r\n    let pages = [];\r\n    for(let i=1; i<totalPage; i++){\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(totalPage/ portionSize );\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1 ) * portionSize + 1;\r\n    let rightPortionPageNumber =  portionSize * portionNumber;\r\n\r\n    const portionFlow = (portionCurrentNumber,currentPageOfPortion) => {\r\n        setPortionNumber(portionCurrentNumber);\r\n        showCurrentUsers(currentPageOfPortion);\r\n    };\r\n\r\n    const nextPortion = (portionNumber, portionSize) => {\r\n        let portionCurrentNumber = portionNumber + 1;\r\n        let currentPageOfPortion = (portionCurrentNumber - 1) * portionSize+ + 1;\r\n        portionFlow(portionCurrentNumber, currentPageOfPortion)\r\n\r\n    };\r\n\r\n    const prevPortion = (portionNumber,portionSize) => {\r\n        let portionCurrentNumber = portionNumber - 1;\r\n        let currentPageOfPortion = portionCurrentNumber * portionSize;\r\n        portionFlow(portionCurrentNumber, currentPageOfPortion);\r\n    };\r\n\r\n    return <div>\r\n        <button onClick={() => prevPortion(portionNumber,portionSize)} disabled={portionNumber <= 1}>prev</button>\r\n        <div className={style.pagination}>\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => <span  key={p} onClick={()=> showCurrentUsers(p)} className={(p === currentPage)  && style.selectedPage}>{p}</span>)}\r\n        </div>\r\n        <button onClick={() => nextPortion(portionNumber,portionSize)} disabled={portionCount <= portionNumber}>next</button>\r\n    </div>\r\n};\r\n\r\n\r\n\r\n\r\nexport default Paginator;","export default \"data:image/jpeg;base64,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\"","import React from 'react';\r\nimport style from \"./Users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userImage from \"../../accets/img/user.jpg\";\r\n\r\nconst User = ({user, followingInProgress, follow, unfollow}) => {\r\n\r\n\r\n    return <div className={style.wrapper} >\r\n        <div className={style.user}>\r\n            <NavLink to={`/profile/${user.id}`}>\r\n                <img src={user.photos.small !== null ? user.photos.small : userImage} alt=\"avatar\"\r\n                     className={style.image}/>\r\n            </NavLink>\r\n            {user.followed === false ?\r\n\r\n                <ButtonFollowToggle userId={user.id} followingInProgress={followingInProgress} action={follow} value='follow'/>\r\n                 :\r\n                <ButtonFollowToggle userId={user.id} followingInProgress={followingInProgress} action={unfollow} value='unfollow'/>\r\n                }\r\n        </div>\r\n        <div className={style.info}>\r\n            <div className={style.myself}>\r\n                <h3 className={style.name}>\r\n                    {user.name}\r\n                </h3>\r\n                <p className={style.status}>\r\n                    {user.status != null ? user.status : 'Тут когда то будет мой статус...'}\r\n                </p>\r\n            </div>\r\n            <div className={style.location}>\r\n                <p>Город</p>\r\n                <p>Страна</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nconst ButtonFollowToggle = ({followingInProgress, userId, action, value}) => {\r\n\r\n    return  <button className={style.btn}\r\n                    disabled={followingInProgress.some(id => id === userId)}\r\n                    onClick={() =>\r\n                        action(userId)}>{value}</button>\r\n};\r\n\r\nexport default User;","import React from 'react';\r\nimport style from './Users.module.css'\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nconst Users = ({users, followingInProgress,follow, unfollow, ...props}) => {\r\n    return <div className={style.container}>\r\n        <Paginator currentPage={props.currentPage}\r\n                   totalUsers={props.totalUsers}\r\n                   pageSize={props.pageSize}\r\n                   portionSize={props.portionSize}\r\n                   showCurrentUsers={props.showCurrentUsers}/>\r\n\r\n        {users.map(u => <User key={u.id} user={u} followingInProgress={followingInProgress} follow={follow} unfollow={unfollow}/>)}\r\n    </div>\r\n};\r\n\r\nexport default Users;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create(\r\n    {\r\n        withCredentials: true,\r\n        headers: {\r\n            'API-KEY': '40c8c4c0-bb4d-4239-bc96-756eb81d3261'\r\n        },\r\n        baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    }\r\n);\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize){\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    },\r\n    unfollow(userId){\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    follow(userId){\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {\r\n          status: status\r\n        })\r\n    },\r\n    updatePhoto(photo) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photo);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    updateProfile(profileData) {\r\n        return instance.put(`profile`, profileData )\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n\r\n    me() {\r\n        return instance.get('auth/me')\r\n    },\r\n    login(email, password, rememberMe, captcha) {\r\n        return instance.post('auth/login', {email, password, rememberMe,captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    },\r\n\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get('security/get-captcha-url')\r\n    },\r\n};","export const updateObjectArray = (items,itemId,objPropName, newObjProps) => {\r\n  return items.map(u => {\r\n    if (u[objPropName] === itemId) {\r\n      return {\r\n        ...u,\r\n        ...newObjProps\r\n      };\r\n    }\r\n    return u;\r\n  });\r\n};\r\n","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectArray} from \"../helpers/object-helpers\";\r\n\r\nconst FOLLOW = 'userPage-reducer/FOLLOW';\r\nconst UNFOLLOW = 'userPage-reducer/UNFOLLOW';\r\nconst SET_USERS = 'userPage-reducer/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'userPage-reducer/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS = 'userPage-reducer/SET_TOTAL_USERS';\r\nconst TOGGLE_PRELOADER = 'userPage-reducer/TOGGLE_PRELOADER';\r\nconst FOLLOWING_IN_PROGRESS = 'userPage-reducer/FOLLOWING_IN_PROGRESS';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    currentPage: 1,\r\n    totalUsers: 31,\r\n    pageSize: 5,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 10,\r\n};\r\n\r\nconst usersPageReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectArray(state.users, action.id, 'id', {followed: true,}),\r\n\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectArray(state.users, action.id, 'id', {followed: false,})\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users],\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n        case SET_TOTAL_USERS:\r\n            return {\r\n                ...state,\r\n                totalUsers: action.totalUsers\r\n            };\r\n        case TOGGLE_PRELOADER:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            };\r\n        case FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.followingInProgress\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [state.followingInProgress.filter(id => id !== action.userId)]\r\n                ,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const onFollow = id => ({\r\n    type: FOLLOW,\r\n    id: id,\r\n});\r\n\r\nexport const onUnfollow = id => ({\r\n    type: UNFOLLOW,\r\n    id: id,\r\n});\r\n\r\nconst setUsers = users => ({\r\n    type: SET_USERS,\r\n    users: users,\r\n});\r\n\r\nconst setCurrentPage = currentPage => ({\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage,\r\n});\r\n\r\nconst setTotalUsers = totalUsers => ({\r\n    type: SET_TOTAL_USERS,\r\n    totalUsers,\r\n});\r\n\r\nconst togglePreloader = isFetching => ({\r\n    type: TOGGLE_PRELOADER,\r\n    isFetching,\r\n});\r\n\r\nconst setFollowingInProgress = (followingInProgress, userId) => ({\r\n    type: FOLLOWING_IN_PROGRESS,\r\n    followingInProgress,\r\n    userId,\r\n});\r\n\r\n\r\nexport const getUsers = (currentPage, pageSize) => async dispatch => {\r\n    dispatch(setCurrentPage(currentPage));\r\n    dispatch(togglePreloader(true));\r\n\r\n    let response = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(togglePreloader(false));\r\n    dispatch(setUsers(response.data.items));\r\n    dispatch(setTotalUsers(response.data.totalCount));\r\n};\r\n\r\nconst toggleFollowFlow = async (userId, apiMethod, actionCreator, dispatch) => {\r\n\r\n    dispatch(setFollowingInProgress(true, userId));\r\n\r\n    let response = await apiMethod;\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator);\r\n    }\r\n\r\n    dispatch(setFollowingInProgress(false, userId));\r\n};\r\n\r\n\r\nexport const unfollow = userId => async dispatch => {\r\n    toggleFollowFlow(userId, usersAPI.unfollow(userId), onUnfollow(userId), dispatch)\r\n};\r\n\r\nexport const follow = userId => async dispatch => {\r\n    toggleFollowFlow(userId, usersAPI.follow(userId), onFollow(userId), dispatch)\r\n};\r\n\r\nexport default usersPageReducer;","import React from 'react';\r\nimport style from './Preloader.module.css'\r\n\r\n\r\n\r\n\r\nlet Preloader = () => {\r\n    return <div className={style.ldsEllipsis}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToPropsAuth = state => {\r\n    return {\r\n        isAuth: state.authTemplate.isAuth,\r\n    }\r\n};\r\n\r\n\r\nconst withAuthRedirect = Component => {\r\n\r\n    class AuthRedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'}/>;\r\n            return <Component {...this.props}/>\r\n        }\r\n\r\n    }\r\n    return connect(mapStateToPropsAuth)(AuthRedirectComponent);\r\n};\r\n\r\nexport default withAuthRedirect;","//Selectors for App\r\nexport const requestInitialized = state => state.app.initialized;\r\n//Selectors for UsersPage\r\nexport const requestUsers = state => state.usersPage.users;\r\nexport const requestCurrentPage = state => state.usersPage.currentPage;\r\nexport const requestTotalUsers = state => state.usersPage.totalUsers;\r\nexport const requestPageSize = state => state.usersPage.pageSize;\r\nexport const requestIsFetching = state => state.usersPage.isFetching;\r\nexport const requestFollowingInProgress = state => state.usersPage.followingInProgress;\r\nexport const requestPortionSize = state => state.usersPage.portionSize;\r\n//Selectors for AuthTemplate\r\nexport const requestIsAuth = state => state.authTemplate.isAuth;\r\nexport const requestLogin = state => state.authTemplate.login;\r\nexport const requestAuthId = state => state.authTemplate.id;\r\n\r\n//Selectors for ProfilePage\r\nexport const requestUserProfile = state => state.profilePage.userProfile;\r\nexport const requestStatus = state => state.profilePage.status;\r\nexport const requestPosts = state => state.profilePage.posts;\r\n\r\n//Selectors for DialogsPage\r\nexport const requestDialogsPage = state => state.dialogsPage;\r\n\r\n\r\n\r\n","import React, {useEffect} from 'react';\r\nimport Users from \"./Users\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    getUsers,\r\n    unfollow,\r\n} from \"../../redux/usersPage-reducer\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport withAuthRedirect from \"../../hoc/AuthRedirect\";\r\nimport {\r\n    requestCurrentPage, requestFollowingInProgress,\r\n    requestIsFetching,\r\n    requestPageSize, requestPortionSize,\r\n    requestTotalUsers,\r\n    requestUsers\r\n} from \"../../redux/selectors\";\r\n\r\n\r\nconst UsersContainer = props => {\r\n\r\n    useEffect(()=> props.getUsers(props.currentPage, props.pageSize), [props.currentPage]);\r\n\r\n    const showCurrentUsers = page => {\r\n        props.getUsers(page, props.pageSize);\r\n    };\r\n\r\n    return <>\r\n        {props.isFetching && <Preloader/>}\r\n        <Users {...props} showCurrentUsers={showCurrentUsers}/>\r\n        </>\r\n};\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        users: requestUsers(state),\r\n        currentPage: requestCurrentPage(state),\r\n        totalUsers: requestTotalUsers(state),\r\n        pageSize: requestPageSize(state),\r\n        isFetching: requestIsFetching(state),\r\n        followingInProgress: requestFollowingInProgress(state),\r\n        portionSize: requestPortionSize(state),\r\n    }\r\n};\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {unfollow, follow, getUsers}),\r\n    withAuthRedirect,\r\n)(UsersContainer);","import style from \"./FormControls.module.css\"\r\nimport React from 'react'\r\n\r\nexport const FormControls = ({input, meta, ...props}) => {\r\n   let hasError = meta.touched && meta.error;\r\n    return <div className={style.formControls + \" \" +  (hasError && style.error)}>\r\n        <div>\r\n            {props.children}\r\n            <span>{hasError && meta.error}</span>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport const Input = props => {\r\n    let {input, meta, ...restProps} = props;\r\n    return <FormControls {...props}><input {...input} {...restProps} /></FormControls>\r\n};\r\n\r\nexport const Textarea = props => {\r\n    let {input, meta, ...restProps} = props;\r\n    return <FormControls {...props}><textarea {...input} {...restProps} /></FormControls>\r\n};\r\n\r\n","import React from 'react';\r\nimport er from \"../../Login/LoginForm/loginForm.module.css\"\r\nimport style from './ProfileInfo.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input, Textarea} from \"../../../common/FormControls/FormControls\";\r\n\r\n\r\nconst ProfileDataForm = ({userProfile,handleSubmit, error}) => {\r\n\r\n    return(\r\n        <form  onSubmit={handleSubmit}>\r\n            <button className={style.profileBtn}>save</button>\r\n            {error && <p className={er.isError}>{error}</p>}\r\n\r\n            <ul className={style.dataList}>\r\n                <div className={style.mainData}>\r\n                    <li>\r\n                        <b>Full name</b>\r\n                        <Field component={Input} name='fullName' placeholder='Name' />\r\n                    </li>\r\n                    <li>\r\n                        <b>About me: </b>\r\n                        <Field component={Input} name='aboutMe' placeholder='About me...' />\r\n                    </li>\r\n                    <li>\r\n                        <b>Looking for job: </b>\r\n                        <Field component={Input} name='lookingForAJob' type='checkbox'/>\r\n                    </li>\r\n                    <li>\r\n                        <b>Description of  job: </b>\r\n                        <Field component={Textarea} name='lookingForAJobDescription' placeholder='Description of job...' />\r\n                    </li>\r\n                </div>\r\n                <div>\r\n                    <li>\r\n                        <ul>\r\n                            {Object.keys(userProfile.contacts)\r\n                                .map(k => {\r\n                                    return <li key={k}>\r\n                                        <b>{k +': '}</b>\r\n                                        <Field component={Input} name={'contacts.'+k} placeholder={k}/>\r\n                                    </li>\r\n                                })}\r\n                        </ul>\r\n                    </li>\r\n                </div>\r\n            </ul>\r\n\r\n\r\n\r\n        </form>\r\n    )\r\n};\r\nexport default reduxForm({form: 'profile'})(ProfileDataForm);","import React from 'react';\r\nimport style from \"./ProfileInfo.module.css\";\r\n\r\nconst ProfileData = ({userProfile, toggleEditMode,isOwner}) => {\r\n    return (\r\n        <div className={style.profile}>\r\n            <div>\r\n                {isOwner && <button onClick={toggleEditMode} className={style.profileBtn}>edit</button> }\r\n            </div>\r\n            <ul>\r\n                <li>\r\n                    <h3>{userProfile.fullName}</h3>\r\n                </li>\r\n                <li>\r\n                    <b>About me: </b>\r\n                    <span>{userProfile.aboutMe}</span>\r\n                </li>\r\n                <li>\r\n                    <b>Looking for job: </b>\r\n                    <span>{userProfile.lookingForAJob ? 'Yes' : 'No'}</span>\r\n                </li>\r\n                {userProfile.lookingForAJob && <li>\r\n                    <b>Description of job: </b>\r\n                    <span>{userProfile.lookingForAJobDescription}</span>\r\n                </li>}\r\n                <li>\r\n                    <b>Contacts</b>\r\n                    <ul className={style.contacts}>\r\n                        {Object.entries(userProfile.contacts).map(k => {\r\n                                if(k[1] != null && k[1] !== ''){\r\n                                    return  <li key={k[0]}>\r\n                                        <b>{k[0]}: </b>\r\n                                        <span>{k[1]}</span>\r\n                                    </li>\r\n                                }\r\n                            })\r\n                        }\r\n                    </ul>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n};\r\nexport default ProfileData;","import React , {useState, useEffect} from \"react\";\r\nimport style from './ProfileInfo.module.css'\r\n\r\nconst ProfileStatus = props => {\r\n\r\n    const [editStatus, setEditStatus] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n    const [statusPrompt, setStatusPrompt] = useState(false);\r\n\r\n    useEffect(()=> {\r\n        setStatus(props.status);\r\n    },[props.status])\r\n\r\n    let activateStatusEditor = () => {\r\n        setEditStatus(true);\r\n    };\r\n\r\n    let deactivateStatusEditor = () => {\r\n        setEditStatus(false);\r\n        setStatusPrompt(false);\r\n        props.updateProfileStatus(status);\r\n    };\r\n\r\n    let onChangeStatus = e => {\r\n        setStatus(e.target.value);\r\n    };\r\n\r\n    const onKeyEnter = e => {\r\n        if(e.keyCode === 13) deactivateStatusEditor();\r\n    };\r\n\r\n    const showStatusPrompt = () => {\r\n        setStatusPrompt(true);\r\n    };\r\n\r\n    const hideStatusPrompt = () => {\r\n        setStatusPrompt(false);\r\n    };\r\n\r\n    return <div className={style.statusHolder}>\r\n        <b>Status: </b>\r\n        {editStatus\r\n            ? <input className={style.status}\r\n                     onChange={onChangeStatus} autoFocus={true} onBlur={deactivateStatusEditor}\r\n                     onKeyUp={(e)=> onKeyEnter(e)}\r\n                     type=\"text\"\r\n                     value={status}/>\r\n            : <span\r\n                onDoubleClick={activateStatusEditor}\r\n                onMouseLeave={hideStatusPrompt}\r\n                onMouseEnter={showStatusPrompt}\r\n            >{props.status ? props.status : 'Write your status...'}</span>}\r\n        <p className={style.prompt + ' '+ (statusPrompt && !editStatus &&  style.showPrompt)}>on duble click for change status</p>\r\n    </div>\r\n\r\n\r\n}\r\n\r\nexport default ProfileStatus;","import React, {useState} from 'react';\r\nimport style from './ProfileInfo.module.css';\r\nimport Preloader from \"../../../common/Preloader/Preloader\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport ProfileData from \"./ProfileData\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport img from './../../../accets/img/user.jpg';\r\n\r\n\r\nlet ProfileInfo = props => {\r\n    let {updateProfileData, updateProfilePhoto, userProfile, isOwner, status, updateProfileStatus} = props;\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [isHovering, setIsHovering] = useState( false);\r\n\r\n\r\n    const toggleEditMode = () => {\r\n        setEditMode(true)\r\n    };\r\n\r\n    const saveProfileData = formData => {\r\n        updateProfileData(formData).then(\r\n            () => setEditMode(false)\r\n        )\r\n    };\r\n\r\n    const transferFile = e => {\r\n        let photo = e.target.files;\r\n        if (photo.length) updateProfilePhoto(photo[0]);\r\n    };\r\n\r\n    const handleHover = () => {\r\n        setIsHovering(!isHovering);\r\n    };\r\n\r\n\r\n    if (!userProfile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className={style.profileInfo}>\r\n            <div onMouseEnter={handleHover} onMouseLeave={handleHover}>\r\n                {isOwner && isHovering && <label htmlFor={style.changePhoto} className={style.customFile}>\r\n                    Change photo...\r\n                    <input id={style.changePhoto} type=\"file\" onChange={transferFile}/>\r\n                </label>}\r\n                {userProfile.photos.large ? <img src={userProfile.photos.large} className={style.avatar} alt=\"Avatar\"/> :\r\n                    <img src={img} alt=\"Avatar\" className={style.avatar}/>  }\r\n\r\n            </div>\r\n            <div>\r\n                <ProfileStatus status={status}\r\n                               updateProfileStatus={updateProfileStatus}/>\r\n                {editMode ?\r\n                    <ProfileDataForm initialValues={userProfile} userProfile={userProfile} onSubmit={saveProfileData}/>\r\n                    : <ProfileData userProfile={userProfile} toggleEditMode={toggleEditMode} isOwner={isOwner}/>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport style from './Post.module.css'\r\n\r\nlet Post = ({text, likeCount}) => {\r\n    return(\r\n        <li className={style.post}>\r\n            <div className={style.content}>\r\n                <img className={style.image} src=\"https://pngicon.ru/file/uploads/2_16.png\" alt=\"avatar\"/>\r\n                <p className={style.text}>{text}</p>\r\n            </div>\r\n            <p>\r\n                <span className={style.like}>Like {likeCount}</span>\r\n            </p>\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default Post;","import React from 'react'\r\nimport style from \"../Posts.module.css\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../../../common/FormControls/FormControls\";\r\n\r\nconst PostForm = ({handleSubmit}) => {\r\n\r\n    return <form onSubmit={handleSubmit} className={style.inform}>\r\n        <Field  name={\"postBody\"} component={Textarea} className={style.textarea}/>\r\n        <button className={style.btn}>send</button>\r\n    </form>\r\n}\r\n\r\nconst PostFormComponent = reduxForm({form: 'post form'})(PostForm)\r\nexport default PostFormComponent;","import {profileAPI} from \"../api/api\";\r\nimport {reset, stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'profilePage-reducer/ADD-POST';\r\nconst SET_USER_PROFILE = 'profilePage/SET_USER_PROFILE';\r\nconst SET_PROFILE_STATUS = 'profilePage/SET_PROFILE_STATUS';\r\nconst SET_PHOTO = 'profilePage/SET_PHOTO';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, text: \"Привет, мир!\", likeCount: 15},\r\n        {id: 2, text: \"Я на месте!\", likeCount: 16},\r\n        {id: 3, text: \"Юхууу\", likeCount: 11},\r\n        {id: 4, text: \"Меня явно любит вселення\", likeCount: 5},\r\n        {id: 5, text: \"Вперед!\", likeCount: 85}\r\n    ],\r\n    userProfile: null,\r\n    status: '',\r\n};\r\n\r\nconst profilePageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: state.posts.length + 1,\r\n                text: action.postBody,\r\n                likeCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost].reverse(),\r\n            };\r\n\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                userProfile: action.userProfile,\r\n            };\r\n        case SET_PROFILE_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            };\r\n        case SET_PHOTO:\r\n            return {\r\n                ...state,\r\n                userProfile: {...state.userProfile, photos: action.photo},\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst onAddPostSuccess = postBody => ({\r\n    type: ADD_POST,\r\n    postBody,\r\n});\r\n\r\nexport const onAddPost = postBody => dispatch => {\r\n    dispatch(onAddPostSuccess(postBody));\r\n    dispatch(reset('post form'));\r\n};\r\n\r\nconst setUserProfile = userProfile => ({\r\n    type: SET_USER_PROFILE,\r\n    userProfile,\r\n});\r\n\r\nconst setProfileStatus = status => ({\r\n    type: SET_PROFILE_STATUS,\r\n    status,\r\n});\r\n\r\nconst setPhoto = photo => ({\r\n    type: SET_PHOTO,\r\n    photo,\r\n});\r\n\r\n\r\nexport const getProfileStatus = userId => async dispatch => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setProfileStatus(response.data));\r\n\r\n};\r\n\r\nexport const getUserProfile = userId => async dispatch => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n\r\nexport const updateProfileStatus = status => async dispatch => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setProfileStatus(status));\r\n    }\r\n};\r\n\r\nexport const updateProfilePhoto = photo => async dispatch => {\r\n    let response = await profileAPI.updatePhoto(photo);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setPhoto(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport const updateProfileData = profileData => async (dispatch, getState) => {\r\n    let userId = getState().authTemplate.id;\r\n    let response = await profileAPI.updateProfile(profileData);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        let messageError = response.data.messages.length > 0 ? response.data.messages : \"Some error\";\r\n        dispatch(stopSubmit('profile', {_error: messageError}));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n};\r\n\r\nexport default profilePageReducer;","import React from 'react';\r\nimport style from './Posts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport PostFormComponent from \"./PostForm/PostForm\";\r\nimport {onAddPost} from \"../../../redux/profilePage-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {requestPosts} from \"../../../redux/selectors\";\r\n\r\n\r\n\r\n\r\nlet Posts = ({posts,onAddPost}) => {\r\n    let postsArray = posts.map(el => <Post key={el.id} text={el.text} likeCount={el.likeCount}/>)\r\n\r\n\r\n    let onSubmit = value => {\r\n        onAddPost(value.postBody)\r\n    };\r\n\r\n    return(\r\n        <div className={style.postsWrap}>\r\n            <h3 className={style.title}>Мои посты</h3>\r\n            <PostFormComponent onSubmit={onSubmit}/>\r\n            <ul className={style.list}>\r\n                {postsArray}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    posts: requestPosts(state)\r\n});\r\n\r\n\r\nconst PostsContainer = connect(mapStateToProps, {onAddPost})(Posts);\r\nexport default PostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\"\r\nimport Posts from \"./Posts/Posts\";\r\n\r\nlet Profile = props => {\r\n    let {updateProfileData, updateProfilePhoto,userProfile,status,updateProfileStatus} = props;\r\n    return(\r\n        <>\r\n            <ProfileInfo updateProfileData={updateProfileData}\r\n                         updateProfilePhoto={updateProfilePhoto}\r\n                         isOwner={!props.match.params.userId}\r\n                         userProfile={userProfile}\r\n                         status={status}\r\n                         updateProfileStatus={updateProfileStatus}/>\r\n            <Posts/>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Profile;","import React, {useEffect} from 'react';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getProfileStatus,\r\n    getUserProfile, updateProfileData,\r\n    updateProfilePhoto,\r\n    updateProfileStatus\r\n} from \"../../redux/profilePage-reducer\";\r\nimport {compose} from \"redux\";\r\nimport withAuthRedirect from \"../../hoc/AuthRedirect\";\r\nimport {requestAuthId, requestStatus, requestUserProfile} from \"../../redux/selectors\";\r\n\r\nconst ProfileContainer = props => {\r\n\r\n    useEffect(()=> refreshGetUserProfile(), [props.match.params.userId]);\r\n\r\n    const refreshGetUserProfile = () => {\r\n        let userId = props.match.params.userId;\r\n        if(!userId) {\r\n            userId = props.loggedId;\r\n        }\r\n        props.getUserProfile(userId);\r\n        props.getProfileStatus(userId);\r\n    }\r\n\r\n    return <Profile {...props}/>\r\n}\r\n\r\n\r\nconst mapStateToProps = state => (\r\n    {\r\n        userProfile: requestUserProfile(state),\r\n        loggedId: requestAuthId(state),\r\n        status: requestStatus(state),\r\n    }\r\n)\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    getUserProfile,\r\n    getProfileStatus,\r\n    updateProfileStatus,\r\n    updateProfilePhoto,\r\n    updateProfileData,\r\n};\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, mapDispatchToProps ),\r\n    withAuthRedirect,\r\n)(ProfileContainer)\r\n","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_AUTH_USER = 'SET_AUTH_USER';\r\nconst SET_CAPTCHA = 'SET_CAPTCHA';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER:\r\n            return {\r\n                ...state,\r\n                id: action.id,\r\n                login: action.login,\r\n                email: action.email,\r\n                isAuth: action.isAuth,\r\n\r\n            };\r\n        case SET_CAPTCHA:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nconst setAuthUser = (id, login, email, isAuth) => ({\r\n    type: SET_AUTH_USER,\r\n    id,\r\n    login,\r\n    email,\r\n    isAuth\r\n});\r\n\r\nconst setCaptcha = captchaUrl => ({\r\n    type: SET_CAPTCHA,\r\n    captchaUrl\r\n});\r\n\r\n\r\nexport const getAuthUser = () => async dispatch => {\r\n    return authAPI.me().then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            let {id, login, email} = response.data.data;\r\n            dispatch(setAuthUser(id, login, email, true))\r\n        }\r\n    })\r\n};\r\n\r\nexport const toLogin = (email, password, rememberMe = false, captcha = null) => async dispatch => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUser())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            securityAPI.getCaptcha().then(response => {\r\n                dispatch(setCaptcha(response.data.url))\r\n            })\r\n        }\r\n        let messageError = response.data.messages.length > 0 ? response.data.messages : \"Some error\";\r\n        dispatch(stopSubmit('login', {_error: messageError}))\r\n    }\r\n};\r\n\r\nexport const toLogout = () => async dispatch => {\r\n    let response = await authAPI.logout();\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUser(null, null, null, false))\r\n        }\r\n};\r\n\r\nexport default authReducer;\r\n","import React from 'react';\r\nimport style from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {requestIsAuth, requestLogin} from \"../../redux/selectors\";\r\nimport {connect} from \"react-redux\";\r\nimport {toLogout} from \"../../redux/auth-reducer\";\r\n\r\n\r\nconst Header = ({toLogout, isAuth, login}) => {\r\n    const onLogout = () => {\r\n        toLogout();\r\n    };\r\n\r\n    return (\r\n        <header className={style.header}>\r\n            <img className={style.img} src=\"https://www.besplatnyeprogrammy.ru/wp-content/uploads/anydesk.png\"\r\n                 alt=\"logo\"/>\r\n            <div>\r\n                {\r\n                    isAuth ? <div className={style.isAuth}>\r\n                            <span>{login}</span>\r\n                            <span>-</span>\r\n                            <button onClick={onLogout}>Log out</button>\r\n                        </div>\r\n                        : <NavLink to={`/login`}>Войти</NavLink>\r\n                }\r\n            </div>\r\n        </header>)\r\n};\r\n\r\n\r\nlet  mapStateToProps = state => ({\r\n    isAuth : requestIsAuth(state),\r\n    login : requestLogin(state),\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {toLogout})(Header);\r\n","import {Field, reduxForm} from \"redux-form\";\r\nimport React from \"react\";\r\nimport style from \"./loginForm.module.css\"\r\nimport {maxLength, required} from \"../../../helpers/validate/validate\";\r\nimport {Input} from \"../../../common/FormControls/FormControls\";\r\n\r\nlet maxLength30 = maxLength(30);\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return <form onSubmit={handleSubmit} className={style.formLogin}>\r\n        <Field component={Input} name='login' placeholder='Login' validate={[required, maxLength30]}/>\r\n        <Field component={Input} name='password' placeholder='Password' type='password' validate={required}/>\r\n        <label htmlFor=\"rememberMe\">Remember me</label>\r\n        <Field component={'input'} name='rememberMe' type='checkbox' id='rememberMe'/>\r\n        {error && <p className={style.isError}>{error}</p>}\r\n        {captchaUrl && <img src={captchaUrl} alt=\"captcha\"/>}\r\n        {captchaUrl && <Field component={Input} name='captcha'/>}\r\n        <button>Login</button>\r\n    </form>\r\n};\r\n\r\nexport const LoginFormComponent = reduxForm({form: 'login'})(LoginForm);","import React from \"react\";\r\nimport {LoginFormComponent} from \"./LoginForm/LoginForm\";\r\nimport {connect} from \"react-redux\";\r\nimport {toLogin} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Login = props => {\r\n    let onSubmit = formData  => {\r\n        let {login, password, rememberMe, captcha} = formData;\r\n        props.toLogin(login, password, rememberMe, captcha);\r\n    };\r\n\r\n    if(props.isAuth) {\r\n        return <Redirect to={'./profile'}/>\r\n    }\r\n\r\n     return <div>\r\n        <h2>Login</h2>\r\n         <LoginFormComponent onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n     </div>\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    isAuth: state.authTemplate.isAuth,\r\n    captchaUrl: state.authTemplate.captchaUrl,\r\n});\r\n\r\nexport default connect(mapStateToProps,{toLogin})(Login);","import {getAuthUser} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED = 'app-reducer/INITIALIZED';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nconst setInitialized = () => (\r\n    {\r\n        type: INITIALIZED,\r\n    }\r\n);\r\n\r\n\r\n\r\nexport const initializing = () => async dispatch => {\r\n    await dispatch(getAuthUser());\r\n    dispatch(setInitialized());\r\n};\r\n\r\nexport default appReducer;\r\n","export default __webpack_public_path__ + \"static/media/404.7145d163.png\";","import React from 'react'\r\nimport errorImg from './../../accets/img/404.png'\r\nimport style from './Error404.module.css'\r\n\r\nconst Error404 = () => {\r\n    return <div className={style.container}>\r\n        <img className={style.errorImg} src={errorImg} alt=\"error\"/>\r\n    </div>\r\n};\r\n\r\nexport default Error404;","import React from 'react';\r\nimport style from './DialogsUsers.module.css'\r\n\r\n\r\n\r\nlet DialogsUsers = (props) => {\r\n    return <span  className={style.user}>{props.name}</span>\r\n};\r\n\r\nexport default DialogsUsers;","import React from 'react';\r\nimport style from './Messages.module.css'\r\n\r\nlet Messages = (props) => {\r\n    return <p className={style.message}>{props.text}</p>\r\n};\r\n\r\nexport default Messages;","import style from \"../Dialogs.module.css\";\r\nimport React from \"react\"\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../../common/FormControls/FormControls\";\r\n\r\nconst MessagesForm = ({handleSubmit}) => {\r\n    return <form className={style.inform} onSubmit={handleSubmit}>\r\n        <Field component={Textarea}  name='sendMessage' className={style.textarea} placeholder='Send message'/>\r\n        <button className={style.btn}>Send</button>\r\n    </form>\r\n};\r\n\r\nexport default reduxForm({form: 'Messages form'})(MessagesForm);\r\n\r\n","import {reset} from \"redux-form\";\r\n\r\nconst SEND_MESSAGE = 'dialogPage-reducer/SEND-MESSAGE';\r\n\r\n\r\nlet initialState = {\r\n    users : [\r\n        {id:1, name: 'Artur' },\r\n        {id:2, name: 'Jenya' },\r\n        {id:3, name: 'Vladislav' },\r\n        {id:4, name: 'Anton' },\r\n        {id:5, name: 'Koshka' }\r\n    ],\r\n    messages : [\r\n        {id: 1, text: 'Привет'},\r\n        {id: 2, text: 'Как дела?'},\r\n        {id: 3, text: 'Что нового?'},\r\n        {id: 4, text: 'Где пропал?'},\r\n        {id: 5, text: 'Йоу'},\r\n    ],\r\n};\r\n\r\nconst dialogsPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let newMessage = {\r\n                text: action.messageBody,\r\n                id: state.messages.length + 1,\r\n            };\r\n\r\n            return  {\r\n                ...state,\r\n                messages: [...state.messages, newMessage]\r\n            };\r\n        }\r\n\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\nconst onSendMessageSuccess = messageBody => ({type: SEND_MESSAGE, messageBody});\r\n\r\nexport const onSendMessage = messageBody => dispatch => {\r\n    dispatch(onSendMessageSuccess(messageBody));\r\n    dispatch(reset('Messages form'));\r\n};\r\n\r\n\r\nexport default dialogsPageReducer;\r\n","import React from 'react';\r\nimport style from './Dialogs.module.css'\r\nimport DialogsUsers from \"./DialogsUsers/DialogsUsers\";\r\nimport Messages from \"./Messages/Messages\";\r\nimport MessagesForm from \"./MessagesForm/MessagesForm\";\r\nimport {onSendMessage} from \"../../redux/dialogsPage-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport withAuthRedirect from \"../../hoc/AuthRedirect\";\r\nimport {requestDialogsPage} from \"../../redux/selectors\";\r\n\r\n\r\n\r\n\r\nlet Dialogs = ({dialogsPage,onSendMessage}) => {\r\n    let usersArray = dialogsPage.users.map(el => <DialogsUsers key={el.id} id={el.id} name={el.name}/>);\r\n    let messagesArray = dialogsPage.messages.map(el=><Messages key={el.id} text={el.text}/>);\r\n\r\n    const sendMessage = messageBody => {\r\n        onSendMessage(messageBody);\r\n    };\r\n\r\n    const onSubmit = value => {\r\n        sendMessage(value.sendMessage);\r\n    };\r\n\r\n\r\n\r\n    return(\r\n        <div className={style.dialogs}>\r\n            <div className={style.users}>\r\n                {usersArray}\r\n            </div>\r\n            <div className={style.messages}>\r\n                {messagesArray}\r\n                <MessagesForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nconst mapStoreToProps = state => ({\r\n    dialogsPage: requestDialogsPage(state),\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStoreToProps,{ onSendMessage} ),\r\n    withAuthRedirect\r\n)(Dialogs);\r\n\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profilePageReducer from \"./profilePage-reducer\";\r\nimport dialogsPageReducer from \"./dialogsPage-reducer\";\r\nimport usersPageReducer from \"./usersPage-reducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers(\r\n    {\r\n        dialogsPage: dialogsPageReducer,\r\n        profilePage: profilePageReducer,\r\n        usersPage: usersPageReducer,\r\n        authTemplate: authReducer,\r\n        form: formReducer,\r\n        app: appReducer,\r\n    }\r\n)\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\n\r\nexport default store;","import React, {useEffect} from 'react';\nimport style from './App.module.css';\nimport Sidebar from './components/Sidebar/Sidebar';\nimport {HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport Header from \"./components/Header/Header\";\nimport Login from \"./components/Login/login\";\nimport {connect, Provider} from \"react-redux\";\nimport {initializing} from \"./redux/app-reducer\";\nimport Preloader from \"./common/Preloader/Preloader\";\nimport Error404 from \"./components/ErrorComponents/Error404\";\nimport {requestInitialized} from \"./redux/selectors\";\nimport Dialogs from \"./components/Dialogs/Dialogs\";\nimport {compose} from \"redux\";\nimport store from \"./redux/redux-store\";\n\n\nconst App = ({initializing,initialized}) => {\n\n    useEffect(()=> initializing(), [initialized]);\n\n    if(!initialized) {\n        return <Preloader/>\n    }\n    return  (\n        <div className={style.app}>\n            <Header/>\n            <Sidebar/>\n            <section className={style.content}>\n                <Switch>\n                    <Route path=\"/profile/:userId?\" render={()=> <ProfileContainer />}/>\n                    <Route path=\"/dialogs\" render={()=> <Dialogs/>}/>\n                    <Route path=\"/users\" render={()=> <UsersContainer  />}/>\n                    <Route path=\"/login\" render={()=> <Login />}/>\n                    <Redirect exact from='/' to='/profile'/>\n                    <Route path='*' render={() => <Error404/>}/>\n                </Switch>\n            </section>\n        </div>\n    );\n};\n\nconst mapStateToProps = state => (\n    {\n        initialized : requestInitialized(state),\n    }\n);\n\nconst AppContainer = compose(withRouter,\n    connect(mapStateToProps, {initializing} ))(App);\n\nconst AppMain = () => {\n    return  <HashRouter>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n};\n\n\nexport default AppMain;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport AppMain from \"./App\";\n\n\nReactDOM.render(<React.StrictMode>\n        <AppMain/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsWrap\":\"Posts_postsWrap__IWjiC\",\"title\":\"Posts_title__ZIRed\",\"inform\":\"Posts_inform__2bp32\",\"textarea\":\"Posts_textarea__1yrOw\",\"btn\":\"Posts_btn__2qWX6\",\"list\":\"Posts_list__HCsmg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3R25r\",\"users\":\"Dialogs_users__2hyEv\",\"messages\":\"Dialogs_messages__1qWJ3\",\"inform\":\"Dialogs_inform__18Whv\",\"textarea\":\"Dialogs_textarea__2KHeY\",\"btn\":\"Dialogs_btn__11ZBC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__Ok9Lr\",\"image\":\"Post_image__DXzFY\",\"content\":\"Post_content__1Zbw7\",\"text\":\"Post_text__En5D6\",\"like\":\"Post_like__1fAvK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formLogin\":\"loginForm_formLogin__nXMQM\",\"isError\":\"loginForm_isError__6tMVc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1D-9D\",\"img\":\"Header_img__261iX\",\"isAuth\":\"Header_isAuth__1UhWV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__kRJin\",\"content\":\"App_content__1_0nF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormControls_formControls__LpYcZ\",\"error\":\"FormControls_error__AAboz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Error404_container__1bqGQ\",\"errorImg\":\"Error404_errorImg__kRyDY\"};"],"sourceRoot":""}